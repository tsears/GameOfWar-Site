{"version":3,"sources":["webpack:///game-of-war.min.js","webpack:///webpack/bootstrap fb546f0c7c0b9668326a","webpack:///./js/GameOfWar.js","webpack:///./js/War.js","webpack:///./js/WarGame.js","webpack:///./js/Player.js","webpack:///./js/RoundResult.js","webpack:///./js/Deck.js","webpack:///./js/Card.js","webpack:///./js/EndlessWarGame.js"],"names":["War","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_War","_War2","_WarGame","_WarGame2","_EndlessWarGame","_EndlessWarGame2","_Deck","_Deck2","Game","EndlessGame","Deck","CardAwardMethod","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","numSuits","numRanks","numPlayers","this","_numSuits","_numRanks","_numPlayers","_warGame","get","undefined","_Player","_Player2","_RoundResult","_RoundResult2","Increasing","Shuffled","WarGame","deck","distributionMethod","arguments","_deck","_players","_playerCount","_distributionMethod","currentSize","Error","push","_startGame","player","pIndex","result","indicies","map","_resolveRound","_distributeCards","warringPlayers","draw","_draw","max","_findCardWithMaxValue","atWar","filter","rank","war","warringPlayerIndicies","_getWarringPlayerIndicies","_prepForWar","winner","indexOf","_finishRound","_awardCards","draws","_gameIsOver","gameOver","_this","revealCard","j","playerIndex","cardCount","players","warVal","cards","reduce","a","b","_awardCardsIncreasing","_awardCardsShuffled","_getDrawsThen","card","awardCard","tempDeck","add","shuffle","deal","action","out","numPasses","Math","floor","addCard","Player","name","_name","_cards","unshift","pop","RoundResult","_draws","_war","_winner","_gameOver","set","v","_Card","_Card2","_initialSize","newOrder","oldOrder","slice","randomIndex","random","randomCard","splice","Card","suit","_suit","_rank","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_WarGame3","EndlessWarGame","_discardPile","_discardDraw","_playersNeedCards","x"],"mappings":"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","file":"game-of-war.min.js","sourcesContent":["var War =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _War = __webpack_require__(1);\n\t\n\tvar _War2 = _interopRequireDefault(_War);\n\t\n\tvar _WarGame = __webpack_require__(2);\n\t\n\tvar _WarGame2 = _interopRequireDefault(_WarGame);\n\t\n\tvar _EndlessWarGame = __webpack_require__(7);\n\t\n\tvar _EndlessWarGame2 = _interopRequireDefault(_EndlessWarGame);\n\t\n\tvar _Deck = __webpack_require__(5);\n\t\n\tvar _Deck2 = _interopRequireDefault(_Deck);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tmodule.exports = {\n\t  War: _War2.default,\n\t  Game: _WarGame2.default,\n\t  EndlessGame: _EndlessWarGame2.default,\n\t  Deck: _Deck2.default,\n\t  CardAwardMethod: _WarGame.CardAwardMethod\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _WarGame = __webpack_require__(2);\n\t\n\tvar _WarGame2 = _interopRequireDefault(_WarGame);\n\t\n\tvar _Deck = __webpack_require__(5);\n\t\n\tvar _Deck2 = _interopRequireDefault(_Deck);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar War = function () {\n\t  function War(numSuits, numRanks, numPlayers) {\n\t    _classCallCheck(this, War);\n\t\n\t    // I would inject the deck as a dependency, so this class is just going to\n\t    // wrap another class that does....\n\t    this._numSuits = numSuits;\n\t    this._numRanks = numRanks;\n\t    this._numPlayers = numPlayers;\n\t\n\t    this._warGame = new _WarGame2.default(new _Deck2.default(this._numSuits, this._numRanks), this._numPlayers);\n\t  }\n\t\n\t  _createClass(War, [{\n\t    key: 'game',\n\t    get: function get() {\n\t      return this._warGame;\n\t    }\n\t  }]);\n\t\n\t  return War;\n\t}();\n\t\n\texports.default = War;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.CardAwardMethod = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Player = __webpack_require__(3);\n\t\n\tvar _Player2 = _interopRequireDefault(_Player);\n\t\n\tvar _RoundResult = __webpack_require__(4);\n\t\n\tvar _RoundResult2 = _interopRequireDefault(_RoundResult);\n\t\n\tvar _Deck = __webpack_require__(5);\n\t\n\tvar _Deck2 = _interopRequireDefault(_Deck);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar CardAwardMethod = exports.CardAwardMethod = {\n\t  \"Increasing\": 0,\n\t  \"Shuffled\": 1\n\t};\n\t\n\tvar WarGame = function () {\n\t  function WarGame(deck, numPlayers) {\n\t    var distributionMethod = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : CardAwardMethod.Increasing;\n\t\n\t    _classCallCheck(this, WarGame);\n\t\n\t    this._deck = deck;\n\t    this._numPlayers = numPlayers;\n\t    this._players = [];\n\t    this._playerCount = 0;\n\t    this._distributionMethod = distributionMethod;\n\t\n\t    if (deck.currentSize < numPlayers) {\n\t      throw new Error('Deck must at least the same size as the number of players');\n\t    }\n\t\n\t    for (var i = 1; i <= numPlayers; ++i) {\n\t      this._players.push(new _Player2.default('Player ' + i));\n\t      ++this._playerCount;\n\t    }\n\t\n\t    this._startGame();\n\t  }\n\t\n\t  _createClass(WarGame, [{\n\t    key: 'getPlayer',\n\t    value: function getPlayer(player) {\n\t      // players are not zero indexed... didn't want to do that jujitsu from the\n\t      // consumer.\n\t      var pIndex = player - 1;\n\t      return this._players[pIndex];\n\t    }\n\t  }, {\n\t    key: 'playRound',\n\t    value: function playRound() {\n\t      var result = new _RoundResult2.default();\n\t      var indicies = this._players.map(function (p, i) {\n\t        return i;\n\t      });\n\t\n\t      return this._resolveRound(indicies, result);\n\t    }\n\t  }, {\n\t    key: '_startGame',\n\t    value: function _startGame() {\n\t      this._distributeCards();\n\t    }\n\t\n\t    /*****************************************************************************\n\t    * _resolveRound\n\t    *\n\t    * This is where all the magic happens.  We will recursively determine the outcome\n\t    * of the round.  If the draws result in a war, we will keep calling this function\n\t    * until all wars are resolved.  A complete record of the draws will be returned\n\t    * along with the winner\n\t    *****************************************************************************/\n\t\n\t  }, {\n\t    key: '_resolveRound',\n\t    value: function _resolveRound(warringPlayers, result) {\n\t\n\t      var draw = this._draw(warringPlayers, result);\n\t      var max = this._findCardWithMaxValue(draw);\n\t      var atWar = draw.filter(function (c) {\n\t        return c && c.rank === max.rank;\n\t      }).length > 1;\n\t\n\t      if (atWar) {\n\t        result.war = true;\n\t\n\t        var warringPlayerIndicies = this._getWarringPlayerIndicies(draw, warringPlayers, max);\n\t\n\t        this._prepForWar(draw, warringPlayerIndicies, result);\n\t\n\t        return this._resolveRound(warringPlayerIndicies, result);\n\t      } else {\n\t        // break recursion\n\t        var winner = this._players[warringPlayers[draw.indexOf(max)]]; //object equality....\n\t\n\t        return this._finishRound(winner, draw, result);\n\t      }\n\t    }\n\t  }, {\n\t    key: '_prepForWar',\n\t    value: function _prepForWar(draw, warringPlayerIndicies, result) {\n\t      this._draw(warringPlayerIndicies, result);\n\t    }\n\t  }, {\n\t    key: '_finishRound',\n\t    value: function _finishRound(winner, draw, result) {\n\t      if (!winner) {\n\t        result.winner = null;\n\t      } else {\n\t        result.winner = winner;\n\t        this._awardCards(result.draws, winner);\n\t      }\n\t\n\t      if (this._gameIsOver()) {\n\t        result.gameOver = true;\n\t      }\n\t\n\t      return result;\n\t    }\n\t  }, {\n\t    key: '_draw',\n\t    value: function _draw(warringPlayers, result) {\n\t      var _this = this;\n\t\n\t      var draw = warringPlayers.map(function (i) {\n\t        return _this._players[i].revealCard();\n\t      });\n\t\n\t      for (var j = 0; j < warringPlayers.length; ++j) {\n\t        var playerIndex = warringPlayers[j];\n\t\n\t        if (!result.draws[playerIndex]) {\n\t          result.draws[playerIndex] = [];\n\t        }\n\t        result.draws[playerIndex].push(draw[j]);\n\t      }\n\t\n\t      return draw;\n\t    }\n\t\n\t    /*****************************************************************************\n\t    * _gameIsOver\n\t    *\n\t    * The game is over when one player has all *available cards* -- if the deck\n\t    * wasn't evenly divisible by the number of players, then excess cards would\n\t    * have been left on the deck, making a strict \"a player has all the cards in\n\t    * the deck\" impossible.\n\t    ******************************************************************************/\n\t\n\t  }, {\n\t    key: '_gameIsOver',\n\t    value: function _gameIsOver() {\n\t      return this._players.filter(function (p) {\n\t        return p.cardCount === 0;\n\t      }).length === this._numPlayers - 1;\n\t    }\n\t  }, {\n\t    key: '_getWarringPlayerIndicies',\n\t    value: function _getWarringPlayerIndicies(draw, players, warVal) {\n\t      var indicies = [];\n\t      for (var i = 0; i < draw.length; i++) {\n\t        if (draw[i] && draw[i].rank === warVal.rank) {\n\t          indicies.push(players[i]);\n\t        }\n\t      }\n\t\n\t      return indicies;\n\t    }\n\t  }, {\n\t    key: '_findCardWithMaxValue',\n\t    value: function _findCardWithMaxValue(cards) {\n\t      return cards.filter(function (c) {\n\t        return c;\n\t      }).reduce(function (a, b) {\n\t        // a is the value of the element we're looking at,\n\t        // b is the value of the previous max\n\t        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Parameters\n\t        return b.rank > a.rank ? b : a;\n\t      }, { rank: 0 });\n\t    }\n\t  }, {\n\t    key: '_awardCards',\n\t    value: function _awardCards(draws, winner) {\n\t      if (this._distributionMethod === CardAwardMethod.Increasing) {\n\t        this._awardCardsIncreasing(draws, winner);\n\t      } else if (this._distributionMethod === CardAwardMethod.Shuffled) {\n\t        this._awardCardsShuffled(draws, winner);\n\t      }\n\t    }\n\t  }, {\n\t    key: '_awardCardsIncreasing',\n\t    value: function _awardCardsIncreasing(draws, winner) {\n\t      this._getDrawsThen(draws, function (card) {\n\t        winner.awardCard(card);\n\t      });\n\t    }\n\t  }, {\n\t    key: '_awardCardsShuffled',\n\t    value: function _awardCardsShuffled(draws, winner) {\n\t      var tempDeck = new _Deck2.default(0, 0);\n\t      this._getDrawsThen(draws, function (card) {\n\t        tempDeck.add(card);\n\t      });\n\t\n\t      tempDeck.shuffle();\n\t\n\t      while (tempDeck.currentSize > 0) {\n\t        winner.awardCard(tempDeck.deal());\n\t      }\n\t    }\n\t  }, {\n\t    key: '_getDrawsThen',\n\t    value: function _getDrawsThen(draws, action) {\n\t      var out = [];\n\t\n\t      for (var i = 0; i < draws.length; ++i) {\n\t        for (var j = 0; j < draws[i].length; ++j) {\n\t          if (draws[i][j]) {\n\t            action(draws[i][j]);\n\t          }\n\t        }\n\t      }\n\t\n\t      return out;\n\t    }\n\t  }, {\n\t    key: '_distributeCards',\n\t    value: function _distributeCards() {\n\t      this._deck.shuffle();\n\t\n\t      var numPasses = Math.floor(this._deck.currentSize / this._numPlayers);\n\t\n\t      while (numPasses > 0) {\n\t        for (var i = 0; i < this._numPlayers; ++i) {\n\t          this._players[i].addCard(this._deck.deal());\n\t        }\n\t        --numPasses;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'deck',\n\t    get: function get() {\n\t      return this._deck;\n\t    }\n\t  }, {\n\t    key: 'playerCount',\n\t    get: function get() {\n\t      return this._playerCount;\n\t    }\n\t  }]);\n\t\n\t  return WarGame;\n\t}();\n\t\n\texports.default = WarGame;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Player = function () {\n\t  function Player(name) {\n\t    _classCallCheck(this, Player);\n\t\n\t    this._name = name;\n\t    this._cards = [];\n\t  }\n\t\n\t  _createClass(Player, [{\n\t    key: \"addCard\",\n\t    value: function addCard(card) {\n\t      this._cards.push(card);\n\t    }\n\t  }, {\n\t    key: \"awardCard\",\n\t    value: function awardCard(card) {\n\t      this._cards.unshift(card);\n\t    }\n\t  }, {\n\t    key: \"revealCard\",\n\t    value: function revealCard() {\n\t      return this._cards.pop();\n\t    }\n\t  }, {\n\t    key: \"cardCount\",\n\t    get: function get() {\n\t      return this._cards.length;\n\t    }\n\t  }, {\n\t    key: \"score\",\n\t    get: function get() {\n\t      return this._cards.length;\n\t    }\n\t  }, {\n\t    key: \"name\",\n\t    get: function get() {\n\t      return this._name;\n\t    }\n\t  }]);\n\t\n\t  return Player;\n\t}();\n\t\n\texports.default = Player;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar RoundResult = function () {\n\t  function RoundResult() {\n\t    _classCallCheck(this, RoundResult);\n\t\n\t    this._draws = [];\n\t    this._war = false;\n\t    this._winner = null;\n\t    this._gameOver = false;\n\t  }\n\t\n\t  _createClass(RoundResult, [{\n\t    key: \"draws\",\n\t    get: function get() {\n\t      return this._draws;\n\t    }\n\t  }, {\n\t    key: \"war\",\n\t    get: function get() {\n\t      return this._war;\n\t    },\n\t    set: function set(v) {\n\t      this._war = v;\n\t    }\n\t  }, {\n\t    key: \"winner\",\n\t    get: function get() {\n\t      return this._winner;\n\t    },\n\t    set: function set(v) {\n\t      this._winner = v;\n\t    }\n\t  }, {\n\t    key: \"gameOver\",\n\t    get: function get() {\n\t      return this._gameOver;\n\t    },\n\t    set: function set(v) {\n\t      this._gameOver = v;\n\t    }\n\t  }]);\n\t\n\t  return RoundResult;\n\t}();\n\t\n\texports.default = RoundResult;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Card = __webpack_require__(6);\n\t\n\tvar _Card2 = _interopRequireDefault(_Card);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Deck = function () {\n\t  function Deck(numSuits, numRanks) {\n\t    _classCallCheck(this, Deck);\n\t\n\t    this._numSuits = numSuits;\n\t    this._numRanks = numRanks;\n\t    this._cards = [];\n\t    this._initialSize = 0; // yes, this is just suits * ranks. but we'll count for fun\n\t\n\t    for (var i = 1; i <= numSuits; ++i) {\n\t      for (var j = 1; j <= numRanks; ++j) {\n\t        ++this._initialSize;\n\t        this._cards.push(new _Card2.default(i, j));\n\t      }\n\t    }\n\t  }\n\t\n\t  _createClass(Deck, [{\n\t    key: 'deal',\n\t    value: function deal() {\n\t      return this._cards.pop(); //LIFO\n\t    }\n\t  }, {\n\t    key: 'add',\n\t    value: function add(card) {\n\t      return this._cards.push(card);\n\t    }\n\t  }, {\n\t    key: 'shuffle',\n\t    value: function shuffle() {\n\t      var newOrder = [];\n\t      var oldOrder = this._cards.slice(); // we will leave the initial ordering in tact until the shuffle is complete...\n\t\n\t      do {\n\t        var randomIndex = Math.floor(Math.random() * oldOrder.length);\n\t        var randomCard = oldOrder.splice(randomIndex, 1)[0];\n\t        newOrder.push(randomCard);\n\t      } while (oldOrder.length > 0);\n\t\n\t      this._cards = newOrder;\n\t    }\n\t  }, {\n\t    key: 'numSuits',\n\t    get: function get() {\n\t      return this._numSuits;\n\t    }\n\t  }, {\n\t    key: 'numRanks',\n\t    get: function get() {\n\t      return this._numRanks;\n\t    }\n\t  }, {\n\t    key: 'currentSize',\n\t    get: function get() {\n\t      return this._cards.length;\n\t    }\n\t  }, {\n\t    key: 'initialSize',\n\t    get: function get() {\n\t      return this._initialSize;\n\t    }\n\t  }]);\n\t\n\t  return Deck;\n\t}();\n\t\n\texports.default = Deck;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Card = function () {\n\t  function Card(suit, rank) {\n\t    _classCallCheck(this, Card);\n\t\n\t    this._suit = suit;\n\t    this._rank = rank;\n\t  }\n\t\n\t  _createClass(Card, [{\n\t    key: \"suit\",\n\t    get: function get() {\n\t      return this._suit;\n\t    }\n\t  }, {\n\t    key: \"rank\",\n\t    get: function get() {\n\t      return this._rank;\n\t    }\n\t  }]);\n\t\n\t  return Card;\n\t}();\n\t\n\texports.default = Card;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _Player = __webpack_require__(3);\n\t\n\tvar _Player2 = _interopRequireDefault(_Player);\n\t\n\tvar _RoundResult = __webpack_require__(4);\n\t\n\tvar _RoundResult2 = _interopRequireDefault(_RoundResult);\n\t\n\tvar _Deck = __webpack_require__(5);\n\t\n\tvar _Deck2 = _interopRequireDefault(_Deck);\n\t\n\tvar _WarGame2 = __webpack_require__(2);\n\t\n\tvar _WarGame3 = _interopRequireDefault(_WarGame2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar EndlessWarGame = function (_WarGame) {\n\t  _inherits(EndlessWarGame, _WarGame);\n\t\n\t  function EndlessWarGame(deck, numPlayers) {\n\t    _classCallCheck(this, EndlessWarGame);\n\t\n\t    return _possibleConstructorReturn(this, (EndlessWarGame.__proto__ || Object.getPrototypeOf(EndlessWarGame)).call(this, deck, numPlayers));\n\t  }\n\t\n\t  _createClass(EndlessWarGame, [{\n\t    key: '_startGame',\n\t    value: function _startGame() {\n\t      this._discardPile = new _Deck2.default(0, 0);\n\t      this._distributeCards();\n\t    }\n\t  }, {\n\t    key: '_prepForWar',\n\t    value: function _prepForWar(draw) {\n\t      this._discardDraw(draw);\n\t\n\t      if (this._playersNeedCards()) {\n\t        this._distributeCards();\n\t      }\n\t    }\n\t  }, {\n\t    key: '_finishRound',\n\t    value: function _finishRound(winner, draw, result) {\n\t      result.winner = winner;\n\t      this._discardDraw(draw);\n\t\n\t      if (this._playersNeedCards()) {\n\t        this._distributeCards();\n\t      }\n\t\n\t      return result;\n\t    }\n\t  }, {\n\t    key: '_discardDraw',\n\t    value: function _discardDraw(draw) {\n\t      for (var i = 0; i < draw.length; ++i) {\n\t        this._discardPile.add(draw[i]);\n\t      }\n\t      draw = null;\n\t    }\n\t  }, {\n\t    key: '_playersNeedCards',\n\t    value: function _playersNeedCards() {\n\t      return this._players.filter(function (p) {\n\t        return p.cardCount === 0;\n\t      }).length > 0;\n\t    }\n\t  }, {\n\t    key: '_distributeCards',\n\t    value: function _distributeCards() {\n\t      // place discard cards on deck\n\t      var x = this._discardPile.currentSize;\n\t      for (var i = 0; i < x; ++i) {\n\t        var card = this._discardPile.deal();\n\t        this._deck.add(card);\n\t      }\n\t\n\t      _get(EndlessWarGame.prototype.__proto__ || Object.getPrototypeOf(EndlessWarGame.prototype), '_distributeCards', this).call(this);\n\t    }\n\t  }, {\n\t    key: 'discardPile',\n\t    get: function get() {\n\t      return this._discardPile;\n\t    }\n\t  }]);\n\t\n\t  return EndlessWarGame;\n\t}(_WarGame3.default);\n\t\n\texports.default = EndlessWarGame;\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// game-of-war.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fb546f0c7c0b9668326a","import War from './War';\nimport WarGame, {CardAwardMethod} from './WarGame';\nimport EndlessWarGame from './EndlessWarGame';\nimport Deck from './Deck';\n\nmodule.exports = {\n  War,\n  Game: WarGame,\n  EndlessGame: EndlessWarGame,\n  Deck,\n  CardAwardMethod\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/GameOfWar.js","import WarGame from './WarGame';\nimport EndlessWarGame from './WarGame';\nimport Deck from './Deck';\n\nexport default class War {\n  constructor(numSuits, numRanks, numPlayers) {\n    // I would inject the deck as a dependency, so this class is just going to\n    // wrap another class that does....\n    this._numSuits = numSuits;\n    this._numRanks = numRanks;\n    this._numPlayers = numPlayers;\n\n    this._warGame = new WarGame(new Deck(this._numSuits, this._numRanks), this._numPlayers);\n  }\n\n  get game() { return this._warGame; }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/War.js","import Player from './Player';\nimport RoundResult from './RoundResult';\nimport Deck from './Deck';\n\nexport const CardAwardMethod = {\n  \"Increasing\" : 0,\n  \"Shuffled\" : 1\n};\n\nexport default class WarGame {\n  constructor(deck, numPlayers, distributionMethod = CardAwardMethod.Increasing) {\n    this._deck = deck;\n    this._numPlayers = numPlayers;\n    this._players = [];\n    this._playerCount = 0;\n    this._distributionMethod = distributionMethod;\n\n    if (deck.currentSize < numPlayers) {\n      throw new Error('Deck must at least the same size as the number of players');\n    }\n\n    for (let i = 1; i <= numPlayers; ++i) {\n      this._players.push(new Player(`Player ${i}`));\n      ++this._playerCount;\n    }\n\n    this._startGame();\n  }\n\n  get deck() { return this._deck; }\n  get playerCount() { return this._playerCount; }\n\n  getPlayer(player) {\n    // players are not zero indexed... didn't want to do that jujitsu from the\n    // consumer.\n    const pIndex = player - 1;\n    return this._players[pIndex];\n  }\n\n  playRound() {\n    const result = new RoundResult();\n    const indicies = this._players.map((p, i) => { return i; });\n\n    return this._resolveRound(indicies, result);\n  }\n\n  _startGame() {\n    this._distributeCards();\n  }\n\n\n  /*****************************************************************************\n  * _resolveRound\n  *\n  * This is where all the magic happens.  We will recursively determine the outcome\n  * of the round.  If the draws result in a war, we will keep calling this function\n  * until all wars are resolved.  A complete record of the draws will be returned\n  * along with the winner\n  *****************************************************************************/\n\n  _resolveRound(warringPlayers, result) {\n\n    const draw = this._draw(warringPlayers, result);\n    const max = this._findCardWithMaxValue(draw);\n    const atWar = draw.filter(c => c && c.rank === max.rank).length > 1;\n\n    if (atWar) {\n      result.war = true;\n\n      const warringPlayerIndicies = this._getWarringPlayerIndicies(draw, warringPlayers, max);\n\n      this._prepForWar(draw, warringPlayerIndicies, result);\n\n      return this._resolveRound(warringPlayerIndicies, result);\n    } else {\n      // break recursion\n      let winner = this._players[warringPlayers[draw.indexOf(max)]]; //object equality....\n\n      return this._finishRound(winner, draw, result);\n    }\n  }\n\n  _prepForWar(draw, warringPlayerIndicies, result) {\n    this._draw(warringPlayerIndicies, result);\n  }\n\n  _finishRound(winner, draw, result) {\n    if (!winner) {\n      result.winner = null;\n    } else {\n      result.winner = winner;\n      this._awardCards(result.draws, winner);\n    }\n\n    if (this._gameIsOver()) {\n      result.gameOver = true;\n    }\n\n    return result;\n  }\n\n  _draw(warringPlayers, result) {\n    const draw = warringPlayers.map(i => { return this._players[i].revealCard(); });\n\n    for(let j = 0; j < warringPlayers.length; ++j) {\n      const playerIndex = warringPlayers[j];\n\n      if (!result.draws[playerIndex]) { result.draws[playerIndex] = []; }\n      result.draws[playerIndex].push(draw[j]);\n    }\n\n    return draw;\n  }\n\n  /*****************************************************************************\n  * _gameIsOver\n  *\n  * The game is over when one player has all *available cards* -- if the deck\n  * wasn't evenly divisible by the number of players, then excess cards would\n  * have been left on the deck, making a strict \"a player has all the cards in\n  * the deck\" impossible.\n  ******************************************************************************/\n\n  _gameIsOver() {\n    return this._players.filter(p => p.cardCount === 0).length === this._numPlayers - 1;\n  }\n\n  _getWarringPlayerIndicies(draw, players, warVal) {\n    const indicies = [];\n    for (let i = 0; i < draw.length; i++) {\n      if (draw[i] && draw[i].rank === warVal.rank) {\n        indicies.push(players[i]);\n      }\n    }\n\n    return indicies;\n  }\n\n  _findCardWithMaxValue(cards) {\n    return cards.filter(c => c).reduce((a, b) => {\n      // a is the value of the element we're looking at,\n      // b is the value of the previous max\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Parameters\n      return b.rank > a.rank ? b : a;\n    }, {rank: 0});\n  }\n\n  _awardCards(draws, winner) {\n    if (this._distributionMethod === CardAwardMethod.Increasing) {\n      this._awardCardsIncreasing(draws, winner);\n    } else if (this._distributionMethod === CardAwardMethod.Shuffled) {\n      this._awardCardsShuffled(draws, winner);\n    }\n  }\n\n  _awardCardsIncreasing(draws, winner) {\n    this._getDrawsThen(draws, (card) => {\n      winner.awardCard(card);\n    });\n  }\n\n  _awardCardsShuffled(draws, winner) {\n    const tempDeck = new Deck(0,0);\n    this._getDrawsThen(draws, (card) => {\n      tempDeck.add(card);\n    });\n\n    tempDeck.shuffle();\n\n    while(tempDeck.currentSize > 0) {\n      winner.awardCard(tempDeck.deal());\n    }\n  }\n\n  _getDrawsThen(draws, action) {\n    const out = [];\n\n    for(let i = 0; i < draws.length; ++i) {\n      for (let j = 0; j < draws[i].length; ++j) {\n        if(draws[i][j]) {\n          action(draws[i][j]);\n        }\n      }\n    }\n\n    return out;\n  }\n\n  _distributeCards() {\n    this._deck.shuffle();\n\n    let numPasses = Math.floor(this._deck.currentSize / this._numPlayers);\n\n    while(numPasses > 0) {\n      for (let i = 0; i < this._numPlayers; ++i) {\n        this._players[i].addCard(this._deck.deal());\n      }\n      --numPasses;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/WarGame.js","export default class Player {\n  constructor(name) {\n    this._name = name;\n    this._cards = [];\n  }\n\n  get cardCount() { return this._cards.length; }\n  get score() { return this._cards.length; }\n  get name() { return this._name; }\n\n  addCard(card) {\n    this._cards.push(card);\n  }\n\n  awardCard(card) {\n    this._cards.unshift(card);\n  }\n\n  revealCard() {\n    return this._cards.pop();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/Player.js","export default class RoundResult {\n  constructor() {\n    this._draws = [];\n    this._war = false;\n    this._winner = null;\n    this._gameOver = false;\n  }\n\n  get draws() { return this._draws; }\n\n  get war() { return this._war; }\n  set war(v) { this._war = v; }\n\n  get winner() { return this._winner; }\n  set winner(v) { this._winner = v; }\n\n  get gameOver() { return this._gameOver; }\n  set gameOver(v) { this._gameOver = v; }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/RoundResult.js","import Card from './Card';\n\nexport default class Deck {\n  constructor(numSuits, numRanks) {\n    this._numSuits = numSuits;\n    this._numRanks = numRanks;\n    this._cards = [];\n    this._initialSize = 0; // yes, this is just suits * ranks. but we'll count for fun\n\n    for (let i = 1; i <= numSuits; ++i) {\n      for (let j = 1; j <= numRanks; ++j) {\n        ++this._initialSize;\n        this._cards.push(new Card(i, j));\n      }\n    }\n  }\n\n  get numSuits() { return this._numSuits; }\n  get numRanks() { return this._numRanks; }\n  get currentSize() { return this._cards.length; }\n  get initialSize() { return this._initialSize; }\n\n  deal() {\n    return this._cards.pop(); //LIFO\n  }\n\n  add(card) {\n    return this._cards.push(card);\n  }\n\n  shuffle() {\n    let newOrder = [];\n    let oldOrder = this._cards.slice(); // we will leave the initial ordering in tact until the shuffle is complete...\n\n    do {\n      let randomIndex = Math.floor(Math.random() * oldOrder.length);\n      let randomCard = oldOrder.splice(randomIndex, 1)[0];\n      newOrder.push(randomCard);\n    } while(oldOrder.length > 0);\n\n    this._cards = newOrder;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/Deck.js","export default class Card {\n  constructor(suit, rank) {\n    this._suit = suit;\n    this._rank = rank;\n  }\n\n  get suit() {\n    return this._suit;\n  }\n\n  get rank() {\n    return this._rank;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/Card.js","import Player from './Player';\nimport RoundResult from './RoundResult';\nimport Deck from './Deck';\nimport WarGame from './WarGame';\n\nexport default class EndlessWarGame extends WarGame {\n  constructor(deck, numPlayers) {\n    super(deck, numPlayers);\n  }\n\n  get discardPile () { return this._discardPile; }\n\n  _startGame() {\n    this._discardPile = new Deck(0,0);\n    this._distributeCards();\n  }\n\n  _prepForWar(draw) {\n    this._discardDraw(draw);\n\n    if(this._playersNeedCards()) {\n      this._distributeCards();\n    }\n  }\n\n  _finishRound(winner, draw, result) {\n    result.winner = winner;\n    this._discardDraw(draw);\n\n    if (this._playersNeedCards()) {\n      this._distributeCards();\n    }\n\n    return result;\n  }\n\n  _discardDraw(draw) {\n    for(let i = 0; i < draw.length; ++i) {\n      this._discardPile.add(draw[i]);\n    }\n    draw = null;\n  }\n\n  _playersNeedCards() {\n    return this._players.filter(p => p.cardCount === 0).length > 0;\n  }\n\n  _distributeCards() {\n    // place discard cards on deck\n    const x = this._discardPile.currentSize;\n    for (let i = 0; i < x; ++i) {\n      let card = this._discardPile.deal();\n      this._deck.add(card);\n    }\n\n    super._distributeCards();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/EndlessWarGame.js"],"sourceRoot":""}